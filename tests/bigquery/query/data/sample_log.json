[
  {
    "logName": "projects/metaphor-data/logs/cloudaudit.googleapis.com%2Fdata_access",
    "resource": {
      "type": "bigquery_project",
      "labels": { "location": "us-central1", "project_id": "metaphor-data" }
    },
    "insertId": "yowk8re28y35",
    "severity": "INFO",
    "timestamp": "2022-03-04T23:40:56.595154Z",
    "operation": {
      "id": "1646437256210-metaphor-data:bquxjob_70ddc06_17f574eca64",
      "producer": "bigquery.googleapis.com",
      "last": true
    },
    "protoPayload": {
      "@type": "type.googleapis.com/google.cloud.audit.AuditLog",
      "status": {},
      "authenticationInfo": { "principalEmail": "mars@metaphor.io" },
      "requestMetadata": {
        "callerIp": "1.1.1.1",
        "callerSuppliedUserAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.102 Safari/537.36,gzip(gfe),gzip(gfe)"
      },
      "serviceName": "bigquery.googleapis.com",
      "methodName": "google.cloud.bigquery.v2.JobService.InsertJob",
      "authorizationInfo": [
        {
          "resource": "projects/metaphor-data",
          "permission": "bigquery.jobs.create",
          "granted": true
        }
      ],
      "resourceName": "projects/metaphor-data/jobs/bquxjob_70ddc06_17f574eca64",
      "metadata": {
        "jobChange": {
          "after": "DONE",
          "job": {
            "jobName": "projects/metaphor-data/jobs/bquxjob_70ddc06_17f574eca64",
            "jobConfig": {
              "type": "QUERY",
              "queryConfig": {
                "query": "select * from `metaphor-data.test.yi_tests2`",
                "destinationTable": "projects/metaphor-data/datasets/_3198487640cceeb8e7d28d7c0f23e9f51ed519b1/tables/anon66e97db94a52893f2f3ee8e5c3d420963d37c90c",
                "createDisposition": "CREATE_IF_NEEDED",
                "writeDisposition": "WRITE_TRUNCATE",
                "priority": "QUERY_INTERACTIVE",
                "statementType": "SELECT"
              }
            },
            "jobStatus": { "jobState": "DONE" },
            "jobStats": {
              "createTime": "2022-03-04T23:40:56.210Z",
              "startTime": "2022-03-04T23:40:56.330Z",
              "endTime": "2022-03-04T23:40:56.590Z",
              "queryStats": {
                "totalProcessedBytes": "216",
                "totalBilledBytes": "10485760",
                "billingTier": 1.0,
                "referencedTables": [
                  "projects/metaphor-data/datasets/test/tables/yi_tests2"
                ],
                "outputRowCount": "4"
              },
              "totalSlotMs": "36"
            }
          }
        },
        "@type": "type.googleapis.com/google.cloud.audit.BigQueryAuditMetadata"
      }
    }
  },
  {
    "logName": "projects/metaphor-data/logs/cloudaudit.googleapis.com%2Fdata_access",
    "resource": {
      "type": "bigquery_project",
      "labels": { "location": "us-central1", "project_id": "metaphor-data" }
    },
    "insertId": "rh9327e4q2g1",
    "severity": "INFO",
    "timestamp": "2022-03-07T10:29:01.625893Z",
    "operation": {
      "id": "1646648940948-metaphor-data:job_BSqXkGDLhaGKKQDJtesGJt3gjwG5",
      "producer": "bigquery.googleapis.com",
      "last": true
    },
    "protoPayload": {
      "@type": "type.googleapis.com/google.cloud.audit.AuditLog",
      "status": {},
      "authenticationInfo": { "principalEmail": "scott@metaphor.io" },
      "requestMetadata": {
        "callerIp": "1.1.1.1",
        "callerSuppliedUserAgent": "MicrosoftODBCDriverforGoogleBigQuery/2.4 (GPN:Simba;),gzip(gfe)"
      },
      "serviceName": "bigquery.googleapis.com",
      "methodName": "google.cloud.bigquery.v2.JobService.Query",
      "authorizationInfo": [
        {
          "resource": "projects/metaphor-data",
          "permission": "bigquery.jobs.create",
          "granted": true
        }
      ],
      "resourceName": "projects/metaphor-data/jobs/job_BSqXkGDLhaGKKQDJtesGJt3gjwG5",
      "metadata": {
        "jobChange": {
          "after": "DONE",
          "job": {
            "jobName": "projects/metaphor-data/jobs/job_BSqXkGDLhaGKKQDJtesGJt3gjwG5",
            "jobConfig": {
              "type": "QUERY",
              "queryConfig": {
                "query": "select `id`,\r\n    `name`\r\nfrom `metaphor-data`.`test`.`yi_test_view1`\r\nLIMIT 200 OFFSET 0",
                "destinationTable": "projects/metaphor-data/datasets/_7920ed6988b5b158b0bcde435ea325d866993be9/tables/anon8d8bdc7387b1ebe499e35632b1dd94a6232badf3",
                "createDisposition": "CREATE_IF_NEEDED",
                "writeDisposition": "WRITE_TRUNCATE",
                "priority": "QUERY_INTERACTIVE",
                "statementType": "SELECT"
              }
            },
            "jobStatus": { "jobState": "DONE" },
            "jobStats": {
              "createTime": "2022-03-07T10:29:00.948Z",
              "startTime": "2022-03-07T10:29:01.241Z",
              "endTime": "2022-03-07T10:29:01.617Z",
              "queryStats": {
                "totalProcessedBytes": "72",
                "totalBilledBytes": "10485760",
                "billingTier": 1.0,
                "referencedTables": [
                  "projects/metaphor-data/datasets/test/tables/yi_test3"
                ],
                "referencedViews": [
                  "projects/metaphor-data/datasets/test/tables/yi_test_view1"
                ],
                "outputRowCount": "10"
              },
              "totalSlotMs": "90"
            }
          }
        },
        "@type": "type.googleapis.com/google.cloud.audit.BigQueryAuditMetadata"
      }
    }
  }
]
